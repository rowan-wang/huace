"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{49456:function(he,y,s){s.r(y),s.d(y,{default:function(){return Z}});var J=s(48305),o=s.n(J),n=s(75271),X=s(90851),i=s(52676),l=20,P=5,Y=function(){var S=(0,n.useState)({width:0,height:0}),c=o()(S,2),f=c[0],E=c[1];return(0,n.useEffect)(function(){if(typeof window!="undefined"){var h=function(){return E({width:window.innerWidth,height:window.innerHeight})};return h(),window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}},[]),f};function Z(){var g,S=Y(),c=S.width,f=S.height,E=(0,n.useState)(0),h=o()(E,2),p=h[0],K=h[1],Q=(0,n.useState)(P),M=o()(Q,2),m=M[0],j=M[1],V=(0,n.useState)(1),A=o()(V,2),w=A[0],U=A[1],_=(0,n.useState)(1),B=o()(_,2),q=B[0],F=B[1],ee=(0,n.useState)(null),I=o()(ee,2),b=I[0],z=I[1],v=(0,n.useRef)(null),te=(0,n.useState)((v==null||(g=v.current)===null||g===void 0?void 0:g.offsetWidth)||0),R=o()(te,2),ve=R[0],fe=R[1],ae=(0,n.useState)("1"),k=o()(ae,2),D=k[0],H=k[1],ne=X.Z,L=1224/1649,W=0,N=0,re=f>c?c-10:c-60,G=f-120,C=Math.min(re,1224),x=C/L;x>G&&(x=G,C=x*L),W=C,N=x;var T=f>c,ie=Array.from({length:m},function(a,e){return e+1}),ue=function(e){var t,r,d=(t=e==null?void 0:e.data)!==null&&t!==void 0?t:0;m<l&&d>=m-2&&j(function(u){return Math.min(u+P,l)}),K(e.data),H(String(((r=e.data)!==null&&r!==void 0?r:0)+1))},ge=p===0||p===l,oe={transform:T?"scale(".concat(w,")"):"none"},O=function(e){var t=[e.touches[0],e.touches[1]],r=t[0],d=t[1],u=d.clientX-r.clientX,$=d.clientY-r.clientY;return Math.sqrt(u*u+$*$)},se=function(e){if(T&&e.touches.length===2){var t=O(e);z(t),F(w)}},le=function(){if(v.current){var e=parseInt(D,10);if(!Number.isNaN(e)){var t=Math.max(1,Math.min(e,l)),r=t-1;if(t>m){var d=Math.min(t+P-1,l);j(function(u){return u<d?d:u})}try{v.current.pageFlip().turnToPage(r)}catch(u){console.error("jump page error",u)}}}},ce=function(e){if(T&&e.touches.length===2&&b){var t=O(e),r=Math.min(3,Math.max(1,t/b*q));U(r),e.preventDefault()}},de=function(e){T&&e.touches.length<2&&(z(null),F(w))};return(0,i.jsx)("div",{className:"book-container",children:(0,i.jsxs)("div",{className:"flib-container",onTouchStart:se,onTouchMove:ce,onTouchEnd:de,children:[(0,i.jsx)(ne,{ref:v,width:W,height:N,startPage:0,drawShadow:!0,showCover:!0,className:"flip-book",mobileScrollSupport:!0,style:oe,onFlip:ue,children:ie.map(function(a){return(0,i.jsx)("div",{className:"demoPage",children:(0,i.jsx)("img",{src:"https://malloss.gree.com/gree-mall-v3/pdf/PDF%E5%9B%BE%E7%89%87%E6%8F%90%E5%8F%96-1763695862283/".concat(a,".webp"),alt:"\u7B2C".concat(a,"\u9875")})},a)})}),(0,i.jsxs)("div",{style:{marginTop:12,textAlign:"center",color:"#fff"},children:[(0,i.jsxs)("span",{style:{marginRight:8},children:["\u7B2C ",p+1," / ",l," \u9875"]}),(0,i.jsx)("input",{type:"number",min:1,max:l,value:D,onChange:function(e){return H(e.target.value)},style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #ccc",marginRight:8,color:"#333"}}),(0,i.jsx)("button",{onClick:le,style:{padding:"4px 10px",borderRadius:4,border:"none",background:"#1677ff",color:"#fff"},children:"\u8DF3\u8F6C"})]})]})})}}}]);
