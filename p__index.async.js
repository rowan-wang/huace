"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{49456:function(se,C,s){s.r(C),s.d(C,{default:function(){return J}});var W=s(48305),o=s.n(W),n=s(75271),$=s(90851),i=s(52676),l=71,P=5,G=function(){var p=(0,n.useState)({width:0,height:0}),c=o()(p,2),m=c[0],w=c[1];return(0,n.useEffect)(function(){if(typeof window!="undefined"){var h=function(){return w({width:window.innerWidth,height:window.innerHeight})};return h(),window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}},[]),m};function J(){var S,p=G(),c=p.width,m=p.height,w=(0,n.useState)(0),h=o()(w,2),x=h[0],O=h[1],X=(0,n.useState)(P),j=o()(X,2),T=j[0],B=j[1],Y=(0,n.useState)(1),F=o()(Y,2),E=F[0],Z=F[1],K=(0,n.useState)(1),M=o()(K,2),Q=M[0],z=M[1],V=(0,n.useState)(null),I=o()(V,2),b=I[0],k=I[1],f=(0,n.useRef)(null),U=(0,n.useState)((f==null||(S=f.current)===null||S===void 0?void 0:S.offsetWidth)||0),A=o()(U,2),le=A[0],ce=A[1],_=(0,n.useState)("1"),R=o()(_,2),D=R[0],L=R[1],q=$.Z,v=0,y=0;m>c?(v=c-10,y=v/1.47):(v=(c-60)/2,y=v/1.47);var g=m>c,ee=Array.from({length:T},function(a,e){return e+1}),te=function(e){var t,r,d=(t=e==null?void 0:e.data)!==null&&t!==void 0?t:0;T<l&&d>=T-2&&B(function(u){return Math.min(u+P,l)}),O(e.data),L(String(((r=e.data)!==null&&r!==void 0?r:0)+1))},ae=x===0||x===l,ne={left:ae?g?"0px":"".concat(-v/2,"px"):"0px",transform:g?"scale(".concat(E,")"):"none"},N=function(e){var t=[e.touches[0],e.touches[1]],r=t[0],d=t[1],u=d.clientX-r.clientX,H=d.clientY-r.clientY;return Math.sqrt(u*u+H*H)},re=function(e){if(g&&e.touches.length===2){var t=N(e);k(t),z(E)}},ie=function(){if(f.current){var e=parseInt(D,10);if(!Number.isNaN(e)){var t=Math.max(1,Math.min(e,l)),r=t-1;if(t>T){var d=Math.min(t+P-1,l);B(function(u){return u<d?d:u})}try{f.current.pageFlip().turnToPage(r)}catch(u){console.error("jump page error",u)}}}},ue=function(e){if(g&&e.touches.length===2&&b){var t=N(e),r=Math.min(3,Math.max(1,t/b*Q));Z(r),e.preventDefault()}},oe=function(e){g&&e.touches.length<2&&(k(null),z(E))};return(0,i.jsx)("div",{className:"book-container",children:(0,i.jsxs)("div",{className:"flib-container",onTouchStart:re,onTouchMove:ue,onTouchEnd:oe,children:[(0,i.jsx)(q,{ref:f,width:v,height:y,startPage:0,drawShadow:!0,showCover:!0,className:"flip-book",mobileScrollSupport:!0,style:ne,onFlip:te,children:ee.map(function(a){return(0,i.jsx)("div",{className:"demoPage",children:(0,i.jsx)("img",{src:"https://malloss.gree.com/gree-mall-v3/pdf/PDF%E5%9B%BE%E7%89%87%E6%8F%90%E5%8F%96-1763456792978/".concat(a,".webp"),alt:"\u7B2C".concat(a,"\u9875")})},a)})}),(0,i.jsxs)("div",{style:{marginTop:12,textAlign:"center",color:"#fff"},children:[(0,i.jsxs)("span",{style:{marginRight:8},children:["\u7B2C ",x+1," / ",l," \u9875"]}),(0,i.jsx)("input",{type:"number",min:1,max:l,value:D,onChange:function(e){return L(e.target.value)},style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #ccc",marginRight:8,color:"#333"}}),(0,i.jsx)("button",{onClick:ie,style:{padding:"4px 10px",borderRadius:4,border:"none",background:"#1677ff",color:"#fff"},children:"\u8DF3\u8F6C"})]})]})})}}}]);
