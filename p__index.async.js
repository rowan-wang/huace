"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{49456:function(ue,y,s){s.r(y),s.d(y,{default:function(){return J}});var L=s(48305),c=s.n(L),r=s(75271),W=s(90851),i=s(52676),l=71,x=5,G=function(){var o=(0,r.useState)({width:0,height:0}),d=c()(o,2),P=d[0],g=d[1];return(0,r.useEffect)(function(){if(typeof window!="undefined"){var h=function(){return g({width:window.innerWidth,height:window.innerHeight})};return h(),window.addEventListener("resize",h),function(){return window.removeEventListener("resize",h)}}},[]),P};function J(){var T=G(),o=T.width,d=T.height,P=(0,r.useState)(0),g=c()(P,2),h=g[0],C=g[1],X=(0,r.useState)(x),j=c()(X,2),S=j[0],F=j[1],Y=(0,r.useState)(1),M=c()(Y,2),w=M[0],Z=M[1],$=(0,r.useState)(1),B=c()($,2),O=B[0],z=B[1],K=(0,r.useState)(null),I=c()(K,2),b=I[0],A=I[1],E=(0,r.useRef)(null),Q=(0,r.useState)("1"),k=c()(Q,2),D=k[0],R=k[1],V=W.Z,p=0,m=0;d>o?(p=d-60,m=o-40):(p=(o-60)/2,m=d-60);var f=d>o,U=p>0?p:800,oe=m>0?m:544,q=Array.from({length:S},function(a,e){return e+1}),_=function(e){var t,n,v=(t=e==null?void 0:e.data)!==null&&t!==void 0?t:0;S<l&&v>=S-2&&F(function(u){return Math.min(u+x,l)}),console.log(e.data,U),C(e.data),R(String(((n=e.data)!==null&&n!==void 0?n:0)+1))},ee=h===0||h===l,te={left:ee&&!f?"-400px":"0px",transform:f?"scale(".concat(w,")"):"none"},H=function(e){var t=[e.touches[0],e.touches[1]],n=t[0],v=t[1],u=v.clientX-n.clientX,N=v.clientY-n.clientY;return Math.sqrt(u*u+N*N)},ae=function(e){if(f&&e.touches.length===2){var t=H(e);A(t),z(w)}},ne=function(){if(E.current){var e=parseInt(D,10);if(!Number.isNaN(e)){var t=Math.max(1,Math.min(e,l)),n=t-1;if(t>S){var v=Math.min(t+x-1,l);F(function(u){return u<v?v:u})}try{E.current.pageFlip().turnToPage(n)}catch(u){console.error("jump page error",u)}}}},re=function(e){if(f&&e.touches.length===2&&b){var t=H(e),n=Math.min(3,Math.max(1,t/b*O));Z(n),e.preventDefault()}},ie=function(e){f&&e.touches.length<2&&(A(null),z(w))};return(0,i.jsx)("div",{className:"book-container",children:(0,i.jsxs)("div",{className:"flib-container",onTouchStart:ae,onTouchMove:re,onTouchEnd:ie,children:[(0,i.jsx)(V,{ref:E,width:f?o-10:800,height:f?(o-10)/1.47:535,startPage:0,drawShadow:!0,showCover:!0,className:"flip-book",mobileScrollSupport:!0,style:te,onFlip:_,children:q.map(function(a){return(0,i.jsx)("div",{className:"demoPage",children:(0,i.jsx)("img",{src:"https://malloss.gree.com/gree-mall-v3/pdf/PDF%E5%9B%BE%E7%89%87%E6%8F%90%E5%8F%96-1763456792978/".concat(a,".webp"),alt:"\u7B2C".concat(a,"\u9875")})},a)})}),(0,i.jsxs)("div",{style:{marginTop:12,textAlign:"center",color:"#fff"},children:[(0,i.jsxs)("span",{style:{marginRight:8},children:["\u7B2C ",h+1," / ",l," \u9875"]}),(0,i.jsx)("input",{type:"number",min:1,max:l,value:D,onChange:function(e){return R(e.target.value)},style:{width:80,padding:"4px 8px",borderRadius:4,border:"1px solid #ccc",marginRight:8,color:"#333"}}),(0,i.jsx)("button",{onClick:ne,style:{padding:"4px 10px",borderRadius:4,border:"none",background:"#1677ff",color:"#fff"},children:"\u8DF3\u8F6C"})]})]})})}}}]);
